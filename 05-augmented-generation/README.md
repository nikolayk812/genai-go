# 05-augmented-generation

Contains a simple example of using a language model to generate text in streaming mode.

## Libraries Involved

- `github.com/testcontainers/testcontainers-go`: [Testcontainers for Golang](https://github.com/testcontainers/testcontainers-go) is library for running Docker containers for integration tests.
- `github.com/testcontainers/testcontainers-go/modules/ollama`: A module for running Ollama language models using Testcontainers.
- `github.com/tmc/langchaingo`: A library for interacting with language models.
- `github.com/tmc/langchaingo/llms/ollama`: A specific implementation of the language model interface for Ollama.

## Code Explanation

The code in `main.go` sets up and runs a containerized Ollama language model using Testcontainers, then uses the model to generate textin two different approaches:
1. Simple generation: The model generates text based on a given prompt.
2. Augmented generation: The model generates text based on a given prompt with additional context.

### Main Functions

- `main()`: The entry point of the application. It calls the `run()` function and logs any errors.
- `run()`: The main logic of the application. It performs the following steps:
  1. Runs an Ollama container using Testcontainers. The image used is `mdelapenya/llama3.2:0.3.13-1b`, loading the `llama3.2:1b` model.
  2. Retrieves the connection string for the running container.
  3. Creates a new Ollama language model instance.
  4. Defines the original content, without augmentation, to be generated by the language model.
  5. Generates the content and prints it to the console.
  6. Defines the augmented content to be generated by the language model, which basically extends the original content with additional context.
  7. Generates the augmented content and prints it to the console.

## Running the Example

To run the example, navigate to the `05-augmented-generation` directory and run the following command:

```sh
go run .
```

The application will start a containerized Ollama language model and generate text based on the provided prompt. The generated text will be displayed in the console.

```shell
Original completion:
<|start_header_id|>assistant<|end_header_id|>

I'm not aware of any specific information about a conference you're referring to. Could you please provide more context or details about the conference, such as its name or location? I'll do my best to help you find the answer.

Augmented completion:
<|start_header_id|>assistant<|end_header_id|>

* The Conference is about how to leverage Testcontainers for building Generative AI applications.
* The meeting will explore how Testcontainers can be used to create a seamless development environment for AI projects.
```
